<!-- <html>
<body>
<title>subscribe</title>
<script>
    String.prototype.getContents = function(raw, type, send, headers) { // Get contents from a URL (string containing 1 URL)
        var xhr = new XMLHttpRequest()
        xhr.open(type? type : "GET", this, false) // true = asynchronous request | false = synchronous request
        if(headers) headers.map(header => {
            xhr.setRequestHeader(Object.keys(header)[0], Object.values(header)[0])
        })
        xhr.send(send)
        return raw? xhr.responseText : JSON.parse(xhr.responseText)
    }
    String.prototype.gist_get = function(raw, fileName) {
        var files = JSON.parse(`https://api.github.com/gists/${this}`.getContents(1)).files
        var idx = Object.keys(files).indexOf("normal.json")
        console.log(idx)
        return raw? files[Object.keys(files)[idx]].content : JSON.parse(files[Object.keys(files)[idx]].content)
    }
 
    document.body.innerHTML = `<h2>${"a11b0f6379d405e8510d8d3a8d453029".gist_get(1, "normal.json")}</h2>`
</script>
<h1>ALRIGHT STUDENTS</h1>
<p>we're having a test, today!</p>
</body>
</html> -->

<div class="container">
    <div class="page-header">
        <h1>aznbot.mp4 Tetris Scores</h1>
    </div>
    <div class="row">
        <!-- /col -->
        <div id="tableGoesHere" class="col-md-6">
        </div>
        <!-- col -->
    </div>
    <!-- /row -->
</div>
<!-- container -->

<script>
String.prototype.getContents = function(raw, type, send, headers) { // Get contents from a URL (string containing 1 URL)
    var xhr = new XMLHttpRequest()
    xhr.open(type ? type : "GET", this, false) // true = asynchronous request | false = synchronous request
    if (headers) headers.map(header => {
        xhr.setRequestHeader(Object.keys(header)[0], Object.values(header)[0])
    })
    xhr.send(send)
    return raw ? xhr.responseText : JSON.parse(xhr.responseText)
}
String.prototype.gist_get = function(raw, fileName) {
    var files = JSON.parse(`https://api.github.com/gists/${this}`.getContents(1)).files
    var idx = Object.keys(files).indexOf("normal.json")
    return raw ? files[Object.keys(files)[idx]].content : JSON.parse(files[Object.keys(files)[idx]].content)
}
/* The function */

function json2table(json, classes) {
    var cols = Object.keys(json[0]);

    var headerRow = '';
    var bodyRows = '';

    classes = classes || '';

    function capitalizeFirstLetter(string) {
        return string.charAt(0).toUpperCase() + string.slice(1);
    }

    cols.map(function(col) {
        headerRow += '<th>' + capitalizeFirstLetter(col) + '</th>';
    });

    json.map(function(row) {
        bodyRows += '<tr>';
        cols.map(function(colName) {
            bodyRows += `<td>${colName == "date"? new Date(row[colName]).toString().substr(0,15) : row[colName]}</td>`
        })
        bodyRows += '</tr>';
    });

    return '<table class="' +
        classes +
        '"><thead><tr>' +
        headerRow +
        '</tr></thead><tbody>' +
        bodyRows +
        '</tbody></table>';
}

/* How to use it */

/* var defaultData = [
{ country: 'China',         population: 1379510000, hi: "100" },
{ country: 'India',         population: 1330780000, hi: "100" },
{ country: 'United States', population:  324788000, hi: "100" },
{ country: 'Indonesia',     population:  260581000, hi: "100" },
{ country: 'Brazil',        population:  206855000, hi: "100" },
]; */

var defaultData = "a11b0f6379d405e8510d8d3a8d453029".gist_get(0, "normal.json")

document.getElementById('tableGoesHere').innerHTML = json2table(defaultData, 'table');

/* Live example */

var dom = {
    data: document.getElementById('data'),
    table: document.getElementById('tableGoesHere'),
};

dom.data.value = JSON.stringify(defaultData);
dom.data.addEventListener('input', function() {
    dom.table.innerHTML = json2table(JSON.parse(dom.data.value), 'table');
});
</script>